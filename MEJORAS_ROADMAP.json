{
  "proyecto": "Dory-Lat Phishing Detector",
  "version_actual": "2.5-history-system",
  "estado": "Producci√≥n - UX Mejorada con Historial",
  "fecha_roadmap": "2025-11-02",
  "ultima_actualizacion": "2025-11-02",
  
  "mejoras_prioritarias": {
    "prioridad_alta": [
      {
        "id": 1,
        "titulo": "Subir Modelo Real a HuggingFace",
        "impacto": 5,
        "esfuerzo": 3,
        "estado": "Completado (Adaptado)",
        "version_completada": "2.3-stable",
        "descripcion": "Optimizaci√≥n de baseline y documentaci√≥n completa en lugar de upload (modelo Keras no compatible con HF Inference API)",
        "beneficios": [
          "Aumentar precisi√≥n de 60-70% a 85-95%",
          "Mantener arquitectura serverless actual",
          "Aprovechar GPUs de HuggingFace para inferencia"
        ],
        "pasos": [
          "Ejecutar script upload_model_to_hf.py con token de escritura",
          "Probar modelo en HuggingFace Inference API",
          "Actualizar app_hf.py para usar modelo en vez de heur√≠sticas",
          "Mantener heur√≠sticas como fallback"
        ],
        "archivos_requeridos": [
          "upload_model_to_hf.py",
          "saved_data/models/HybridNN.keras",
          "saved_data/models/embedding_model_info.json"
        ],
        "estimacion_tiempo": "2-4 horas"
      },
      {
        "id": 2,
        "titulo": "Mejorar Heur√≠sticas de Detecci√≥n",
        "impacto": 4,
        "esfuerzo": 2,
        "estado": "Completado",
        "version_completada": "2.1 ‚Üí 2.3",
        "descripcion": "Expandir reglas heur√≠sticas para mejor detecci√≥n (8 ‚Üí 20+ features, 4 tiers)",
        "mejoras_especificas": {
          "palabras_sospechosas_espanol": [
            "urgente",
            "verificar",
            "suspender",
            "actualizar datos",
            "confirmar identidad",
            "premio",
            "ganador",
            "reclame"
          ],
          "analisis_urls": [
            "Detectar dominios acortados (bit.ly, tinyurl)",
            "Identificar caracteres Unicode sospechosos",
            "Revisar TLD inusuales (.xyz, .top, .tk)",
            "Detectar subdominios que imitan marcas (paypa1.com)"
          ],
          "patrones_ingenieria_social": [
            "Solicitudes de contrase√±as/PINs",
            "Urgencia artificial ('cuenta bloqueada en 24h')",
            "Ofertas demasiado buenas ('iPhone gratis')",
            "Errores ortogr√°ficos intencionales"
          ],
          "analisis_contenido": [
            "Ratio emojis/texto > 0.1",
            "M√∫ltiples signos de exclamaci√≥n/interrogaci√≥n",
            "Texto en may√∫sculas > 30%",
            "Mezcla de idiomas sin sentido"
          ]
        },
        "archivos_modificar": [
          "app_hf.py (funci√≥n predict_phishing_hf)"
        ],
        "estimacion_tiempo": "3-5 horas"
      },
      {
        "id": 3,
        "titulo": "Integraci√≥n con Google Safe Browsing API",
        "impacto": 5,
        "esfuerzo": 3,
        "estado": "Completado",
        "version_completada": "2.2",
        "descripcion": "Verificar URLs contra base de datos de sitios maliciosos de Google (50pts m√°xima prioridad)",
        "beneficios": [
          "Base de datos de millones de URLs maliciosas",
          "Actualizaci√≥n en tiempo real",
          "API gratuita hasta 10,000 requests/d√≠a",
          "Alta confiabilidad (usado por Chrome/Firefox)"
        ],
        "implementacion": {
          "api_endpoint": "https://safebrowsing.googleapis.com/v4/threatMatches:find",
          "costo": "Gratis (10k requests/d√≠a)",
          "nueva_dependencia": "requests (ya instalada)",
          "variables_entorno": [
            "GOOGLE_SAFE_BROWSING_API_KEY"
          ]
        },
        "archivos_modificar": [
          "app_hf.py",
          "requirements_hf.txt (no cambios necesarios)"
        ],
        "estimacion_tiempo": "4-6 horas"
      },
      {
        "id": 4,
        "titulo": "Sistema de Feedback de Usuarios",
        "impacto": 5,
        "esfuerzo": 3,
        "estado": "Completado",
        "version_completada": "2.3",
        "descripcion": "Sistema completo de feedback con SQLite, dashboard admin, y exportaci√≥n de datos",
        "implementacion": {
          "frontend": "Botones üëç/üëé despu√©s del resultado",
          "backend": "Endpoint POST /feedback",
          "almacenamiento": "CSV o SQLite local (inicio), PostgreSQL (futuro)",
          "campos": [
            "email_hash (SHA256 del texto)",
            "prediction",
            "user_feedback (correct/incorrect)",
            "timestamp",
            "analysis_data"
          ]
        },
        "uso_datos": [
          "Identificar falsos positivos/negativos",
          "Casos de borde para reentrenamiento",
          "M√©tricas de precisi√≥n en producci√≥n",
          "Dataset de mejora continua"
        ],
        "archivos_nuevos": [
          "feedback_storage.py",
          "data/feedback.csv o feedback.db"
        ],
        "archivos_modificar": [
          "app_hf.py",
          "templates/index.html"
        ],
        "estimacion_tiempo": "5-7 horas"
      },
      {
        "id": 5,
        "titulo": "Ejemplos Pre-cargados Educativos",
        "impacto": 3,
        "esfuerzo": 1,
        "estado": "Completado",
        "version_completada": "2.1",
        "descripcion": "Dropdown con 6 ejemplos biling√ºes (3 phishing + 3 leg√≠timos)",
        "ejemplos": {
          "phishing_bancario": "URGENTE: Su cuenta de Banco Nacional ha sido bloqueada. Haga clic aqu√≠ http://banco-verificacion.tk/login para verificar su identidad en las pr√≥ximas 24 horas o perder√° acceso permanente.",
          "phishing_premio": "¬°FELICIDADES! Has ganado un iPhone 15 Pro Max GRATIS üéÅüì± Reclama tu premio ahora: http://sorteo-apple.xyz/claim?id=2847291",
          "phishing_redes_sociales": "Alerta de Seguridad: Alguien intent√≥ acceder a tu cuenta de Instagram desde Nigeria. Confirma que eres t√∫: http://instagram-security.com/verify",
          "email_legitimo_trabajo": "Hola equipo,\n\nLes confirmo la reuni√≥n de ma√±ana a las 10:00 AM en la sala de conferencias 3. Por favor traigan los reportes mensuales.\n\nSaludos,\nJuan",
          "email_legitimo_servicio": "Estimado cliente,\n\nSu pedido #12345 ha sido enviado. Puede rastrear su paquete en nuestra p√°gina oficial.\n\nGracias por su compra,\nEquipo de Amazon"
        },
        "archivos_modificar": [
          "templates/index.html (agregar <select> con ejemplos)"
        ],
        "estimacion_tiempo": "1-2 horas"
      }
    ],
    
    "prioridad_media": [
      {
        "id": 6,
        "titulo": "API P√∫blica con Documentaci√≥n",
        "impacto": 4,
        "esfuerzo": 3,
        "descripcion": "Documentar API REST y agregar autenticaci√≥n opcional",
        "features": [
          "Documentaci√≥n Swagger/OpenAPI",
          "Rate limiting (100 requests/d√≠a gratis)",
          "API Keys para usuarios registrados",
          "Diferentes planes (Free/Pro/Enterprise)"
        ],
        "tecnologias": [
          "Flask-RESTX para Swagger",
          "Flask-Limiter para rate limiting",
          "JWT para autenticaci√≥n"
        ],
        "estimacion_tiempo": "8-12 horas"
      },
      {
        "id": 7,
        "titulo": "An√°lisis de Headers de Email",
        "impacto": 5,
        "esfuerzo": 4,
        "descripcion": "Analizar headers completos para detectar spoofing y verificar autenticaci√≥n",
        "analisis_incluidos": [
          "IP de origen y geolocalizaci√≥n",
          "Validaci√≥n SPF (Sender Policy Framework)",
          "Validaci√≥n DKIM (DomainKeys Identified Mail)",
          "Validaci√≥n DMARC (Domain-based Message Authentication)",
          "An√°lisis de ruta de servidores",
          "Detecci√≥n de discrepancias From/Reply-To"
        ],
        "librerias": [
          "email (built-in Python)",
          "dkim (nuevo)",
          "geoip2 (nuevo)",
          "dnspython (nuevo)"
        ],
        "estimacion_tiempo": "10-15 horas"
      },
      {
        "id": 8,
        "titulo": "Historial de An√°lisis Local",
        "impacto": 3,
        "esfuerzo": 2,
        "estado": "Completado",
        "version_completada": "2.5",
        "descripcion": "Sistema completo de historial con localStorage, modal interactivo, exportaci√≥n JSON, y gesti√≥n de 10 an√°lisis recientes",
        "features": [
          "Guardar √∫ltimos 10 an√°lisis",
          "Bot√≥n 'Ver Historial'",
          "Modal con lista de an√°lisis previos",
          "Poder re-analizar emails del historial",
          "Exportar historial como JSON"
        ],
        "archivos_modificar": [
          "templates/index.html (JavaScript)",
          "app_hf.py (actualizar versi√≥n)"
        ],
        "estimacion_tiempo": "3-4 horas",
        "tiempo_real": "3 horas"
      },
      {
        "id": 9,
        "titulo": "Modo Claro/Oscuro Toggle",
        "impacto": 3,
        "esfuerzo": 2,
        "estado": "Completado",
        "version_completada": "2.4",
        "descripcion": "Sistema completo de temas claro/oscuro con 45+ CSS variables, toggle flotante, y persistencia localStorage",
        "implementacion": [
          "CSS variables para colores",
          "Toggle switch en header",
          "Guardar preferencia en localStorage",
          "Animaci√≥n suave de transici√≥n"
        ],
        "archivos_modificar": [
          "templates/index.html (CSS y JavaScript)",
          "app_hf.py (actualizar versi√≥n)"
        ],
        "estimacion_tiempo": "2-3 horas",
        "tiempo_real": "2.5 horas"
      },
      {
        "id": 10,
        "titulo": "Exportar Reporte en PDF",
        "impacto": 3,
        "esfuerzo": 3,
        "descripcion": "Generar PDF profesional con an√°lisis completo del email",
        "contenido_pdf": [
          "Logo y branding de Dory-Lat",
          "Timestamp del an√°lisis",
          "Texto completo del email analizado",
          "Resultado de la predicci√≥n",
          "M√©tricas detalladas",
          "Recomendaciones de seguridad",
          "Disclaimer legal"
        ],
        "tecnologias": [
          "jsPDF (frontend)",
          "O ReportLab (backend Python)"
        ],
        "estimacion_tiempo": "4-6 horas"
      }
    ],
    
    "prioridad_baja": [
      {
        "id": 11,
        "titulo": "Extensi√≥n de Navegador",
        "impacto": 5,
        "esfuerzo": 5,
        "descripcion": "Extension Chrome/Firefox para analizar emails directamente en Gmail/Outlook",
        "features": [
          "Click derecho ‚Üí 'Analizar con Dory'",
          "Bot√≥n en toolbar de Gmail",
          "Alertas en tiempo real",
          "Integraci√≥n con API de Dory-Lat"
        ],
        "archivos_nuevos": [
          "browser-extension/ (nuevo proyecto)"
        ],
        "estimacion_tiempo": "20-30 horas"
      },
      {
        "id": 12,
        "titulo": "Dashboard de Estad√≠sticas",
        "impacto": 3,
        "esfuerzo": 4,
        "descripcion": "Panel administrativo con m√©tricas de uso",
        "metricas": [
          "Total emails analizados",
          "Porcentaje phishing detectados",
          "Tipos m√°s comunes de phishing",
          "Gr√°ficos de uso por d√≠a/semana/mes",
          "Pa√≠ses de origen de an√°lisis"
        ],
        "tecnologias": [
          "Chart.js para gr√°ficos",
          "Base de datos para almacenar m√©tricas"
        ],
        "estimacion_tiempo": "12-16 horas"
      },
      {
        "id": 13,
        "titulo": "Bot de Telegram/WhatsApp",
        "impacto": 4,
        "esfuerzo": 4,
        "descripcion": "Bot para analizar emails desde aplicaciones de mensajer√≠a",
        "plataformas": [
          "Telegram Bot API",
          "WhatsApp Business API (m√°s complejo)"
        ],
        "features": [
          "Reenviar email al bot",
          "Recibir an√°lisis instant√°neo",
          "Comandos: /analizar, /ayuda, /stats"
        ],
        "estimacion_tiempo": "10-15 horas"
      },
      {
        "id": 14,
        "titulo": "An√°lisis de Archivos Adjuntos",
        "impacto": 5,
        "esfuerzo": 5,
        "descripcion": "Escanear attachments en busca de malware",
        "tipos_archivo": [
          ".exe, .dll, .bat, .cmd",
          ".pdf con JavaScript embebido",
          ".docx/.xlsx con macros",
          ".zip con archivos maliciosos"
        ],
        "integraciones": [
          "VirusTotal API",
          "An√°lisis de hashes (MD5/SHA256)",
          "Detecci√≥n de macros"
        ],
        "estimacion_tiempo": "15-20 horas"
      },
      {
        "id": 15,
        "titulo": "Blog/Wiki Educativo",
        "impacto": 3,
        "esfuerzo": 4,
        "descripcion": "Contenido educativo sobre phishing y seguridad",
        "secciones": [
          "¬øQu√© es el phishing?",
          "Tipos de phishing (spear, whaling, vishing)",
          "Casos de estudio reales",
          "Quiz interactivo",
          "Mejores pr√°cticas de seguridad",
          "Certificado de completaci√≥n"
        ],
        "implementacion": [
          "Markdown para contenido",
          "Sistema de CMS simple",
          "O integraci√≥n con Medium/Ghost"
        ],
        "estimacion_tiempo": "20-30 horas + contenido"
      }
    ]
  },
  
  "mejoras_tecnicas": {
    "infraestructura": [
      {
        "titulo": "Migrar a Base de Datos",
        "descripcion": "PostgreSQL en Render para almacenar feedback y estad√≠sticas",
        "cuando": "Al implementar feedback de usuarios (mejora #4)",
        "costo": "Gratis con Render PostgreSQL (250MB)"
      },
      {
        "titulo": "CDN para Assets Est√°ticos",
        "descripcion": "Usar Cloudflare CDN para favicons e im√°genes",
        "beneficio": "Carga m√°s r√°pida globalmente",
        "costo": "Gratis"
      },
      {
        "titulo": "Monitoreo y Logs",
        "descripcion": "Integrar Sentry para error tracking",
        "beneficio": "Detectar errores en producci√≥n proactivamente",
        "costo": "Gratis hasta 5k eventos/mes"
      },
      {
        "titulo": "Tests Automatizados",
        "descripcion": "Pytest para backend, Jest para frontend",
        "beneficio": "Prevenir regresiones, CI/CD m√°s robusto",
        "esfuerzo": "6-10 horas"
      }
    ],
    
    "optimizaciones": [
      {
        "titulo": "Cach√© de Resultados",
        "descripcion": "Redis para cachear an√°lisis de emails duplicados",
        "beneficio": "Respuesta instant√°nea para emails repetidos",
        "implementacion": "Hash del texto como key, resultado como value"
      },
      {
        "titulo": "Compresi√≥n de Respuestas",
        "descripcion": "Gzip compression en Flask",
        "beneficio": "Reducir tama√±o de respuestas JSON en 60-70%",
        "codigo": "from flask_compress import Compress; Compress(app)"
      },
      {
        "titulo": "Lazy Loading de Componentes",
        "descripcion": "Cargar JavaScript pesado solo cuando se necesita",
        "beneficio": "Mejorar tiempo de carga inicial"
      }
    ]
  },
  
  "roadmap_sugerido": {
    "fase_1_corto_plazo": {
      "duracion": "1-2 semanas",
      "mejoras": [1, 2, 5],
      "objetivo": "Aumentar precisi√≥n y mejorar UX b√°sica"
    },
    "fase_2_mediano_plazo": {
      "duracion": "1 mes",
      "mejoras": [3, 4, 8, 9],
      "objetivo": "Integrar APIs externas y feedback de usuarios"
    },
    "fase_3_largo_plazo": {
      "duracion": "2-3 meses",
      "mejoras": [6, 7, 10, 11],
      "objetivo": "Escalar producto y expandir funcionalidades"
    },
    "fase_4_expansion": {
      "duracion": "3+ meses",
      "mejoras": [12, 13, 14, 15],
      "objetivo": "Convertir en plataforma completa de seguridad"
    }
  },
  
  "metricas_exito": {
    "precision_modelo": {
      "actual": "60-70% (heur√≠sticas)",
      "objetivo_fase_1": "85-90% (modelo real)",
      "objetivo_fase_3": "95%+ (con feedback y reentrenamiento)"
    },
    "usuarios": {
      "actual": "Deployment inicial",
      "objetivo_fase_2": "100 an√°lisis/semana",
      "objetivo_fase_4": "1000+ an√°lisis/semana"
    },
    "cobertura": {
      "actual": "Emails de texto plano",
      "objetivo_fase_2": "Emails + URLs verificadas",
      "objetivo_fase_4": "Emails + URLs + Attachments + Headers"
    }
  },
  
  "recursos_adicionales": {
    "apis_gratuitas_utiles": [
      {
        "nombre": "Google Safe Browsing",
        "uso": "Verificaci√≥n de URLs maliciosas",
        "limite": "10,000 requests/d√≠a",
        "url": "https://developers.google.com/safe-browsing"
      },
      {
        "nombre": "VirusTotal Public API",
        "uso": "Escaneo de archivos y URLs",
        "limite": "4 requests/minuto",
        "url": "https://www.virustotal.com/gui/home/upload"
      },
      {
        "nombre": "PhishTank",
        "uso": "Base de datos de phishing verificado",
        "limite": "Ilimitado (descarga diaria)",
        "url": "https://www.phishtank.com/"
      },
      {
        "nombre": "Have I Been Pwned",
        "uso": "Verificar si emails/dominios fueron comprometidos",
        "limite": "1 request/1.5 segundos",
        "url": "https://haveibeenpwned.com/API/v3"
      }
    ],
    
    "datasets_entrenamiento": [
      {
        "nombre": "Enron Email Dataset",
        "descripcion": "500k emails leg√≠timos",
        "url": "https://www.cs.cmu.edu/~enron/"
      },
      {
        "nombre": "Nigerian Fraud Email Dataset",
        "descripcion": "Colecci√≥n de emails de phishing",
        "url": "https://www.kaggle.com/datasets/rtatman/fraudulent-email-corpus"
      },
      {
        "nombre": "SpamAssassin Public Corpus",
        "descripcion": "Emails clasificados spam/ham",
        "url": "https://spamassassin.apache.org/old/publiccorpus/"
      }
    ],
    
    "herramientas_desarrollo": [
      {
        "nombre": "Postman/Thunder Client",
        "uso": "Testing de API REST"
      },
      {
        "nombre": "Lighthouse",
        "uso": "Auditor√≠a de performance y SEO"
      },
      {
        "nombre": "WAVE",
        "uso": "Verificar accesibilidad web"
      }
    ]
  },
  
  "consideraciones_legales": {
    "privacidad": [
      "No almacenar contenido completo de emails sin consentimiento",
      "Usar hashes para identificaci√≥n (SHA256)",
      "Agregar Pol√≠tica de Privacidad",
      "Cumplir con GDPR si hay usuarios europeos"
    ],
    "terminos_servicio": [
      "Disclaimer: Herramienta educativa, no reemplaza criterio humano",
      "No responsabilidad por falsos negativos",
      "Uso aceptable (no para spam masivo)"
    ]
  },
  
  "notas_implementacion": {
    "priorizar_por": "Impacto vs Esfuerzo (Quick Wins primero)",
    "mantener": "Arquitectura serverless actual (sin cambios mayores)",
    "probar_antes": "Todas las mejoras en branch de desarrollo",
    "documentar": "Cada nueva feature en README.md",
    "versionar": "Semantic Versioning (2.1.0, 2.2.0, etc.)"
  }
}
